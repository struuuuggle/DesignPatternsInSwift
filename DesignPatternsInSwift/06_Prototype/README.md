# Prototype
コピーしてインスタンスを作る

## どんなものか
インスタンスをコピーして、インスタンスを作成する。
イニシャライザ経由ではなく、Javaなら`clone()`、Swiftなら`copy()`を使用するとよい。

## いつ使うか
- 種類が多すぎてクラスにまとめられない時
今回のサンプルコードでいうと、DecorationBoxにおいて装飾文字に応じて別々のクラスを作ったりするのは面倒。
3つ程度ならすべて別々のクラスにしてしまってもいい。ただ、後々仕様変更により装飾文字を増やすことになったりすることを考えると、初めからprototypeを作ってしまっておいた方が楽。

- 生成させたいインスタンスが複雑な過程を経て作られ、クラスから作り上げることが難しい時
本の中では、ユーザのマウス操作によって作りあげられたグラフィカルな図形を複製するという例が挙げられている。
iOS開発界隈では、再利用可能なViewのコピーを作る時に重宝する。

- フレームワークと生成するインスタンスを分けたい時
Prototypeパターンでは、フレームワーク側でコピー対象のクラスを指定している。なぜなら、インスタンスを生成するManagerでcreateメソッドの戻り値の型を指定してしまっているから。


## 参考
- [Prototypeパターンのメリットや使いどころは？](https://www.macky-studio.com/entry/2019/05/30/163310)
- [Object.clone()の性能](https://kazunegio.hatenadiary.org/entry/20070719/1184836304)
