# Proxy
å¿…è¦ã«ãªã£ã¦ã‹ã‚‰ä½œã‚‹ 

![UML](https://raw.githubusercontent.com/struuuuggle/DesignPatternsInSwift/master/img/Proxy.jpg)

## ã©ã‚“ãªã‚‚ã®ã‹
Proxy  = ã€Œä»£ç†äººã€ã€‚
æœ¬äººã§ãªãã¨ã‚‚ã§ãã‚‹ä»•äº‹ã‚’ä»£ç†äººã«ãŠã“ãªã‚ã›ã‚‹ã€‚
ä»£ç†äººã¯ã‚ãã¾ã§ä»£ç†ã«éããªã„ãŸã‚ã€æœ¬äººã«ã—ã‹ã§ããªã„ä»•äº‹ã‚‚ã‚ã‚‹ã€‚
ãã†ã„ã†ã¨ãã¯ä»£ç†äººãŒæœ¬äººã«ä»•äº‹ã‚’ä¾é ¼ã™ã‚‹ã€‚

## ç™»å ´äººç‰©
### Subject(ä¸»ä½“)
Proxyã¨RealSubjectã‚’åŒä¸€è¦–ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚
Clientã¯å‘¼ã³å‡ºã™ã‚‚ã®ãŒProxyãªã®ã‹RealSubjectãªã®ã‹ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªããªã‚‹ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶(Client)ãŒãƒ—ãƒ­ã‚­ã‚·(Proxy)ã‹ã‚‰å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ãªã®ã‹ã¨ã‚ã‚‹Webã‚µãƒ¼ãƒã‹ã‚‰å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ãªã®ã‹ã‚’æ„è­˜ã›ãšã«æç”»ã§ãã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚
> ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®Printableã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### Proxy(ä»£ç†äºº)
Clientã‹ã‚‰ã®è¦æ±‚ã‚’ã§ãã‚‹ã ã‘å‡¦ç†ã™ã‚‹ã€‚Proxyè‡ªèº«ã§è¦æ±‚ã‚’æŒã‘ãªã„å ´åˆã¯RealSubjectã«å‡¦ç†ã‚’ãŠé¡˜ã„ã™ã‚‹ã€‚
ã“ã®ã¨ãProxyãŒRealSubjectã‚’ç”Ÿæˆã™ã‚‹ã€‚
> ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®PrinterProxyã‚¯ãƒ©ã‚¹

### RealSubject(å®Ÿéš›ã®ä¸»ä½“)
ProxyãŒClientã‹ã‚‰ã®è¦æ±‚ã«å¿œãˆã‚‰ã‚Œãªããªã£ãŸã¨ãã«ç™»å ´ã™ã‚‹ã€ã€Œæœ¬äººã€å½¹ã€‚
ãŸã¨ãˆã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒéå»ã«é–²è¦§ã—ãŸã“ã¨ã®ã‚ã‚‹ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã™ã‚‹ã€‚
ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒ—ãƒ­ã‚­ã‚·ãŒã‚‚ã£ã¦ã„ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚’è©¦ã¿ãŸãŒã€æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã¦ã„ãŸã€‚
ã—ã‚‡ã†ãŒãªã„ã®ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒæœ¬å®¶ã®ã‚µãƒ¼ãƒã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¦ãƒšãƒ¼ã‚¸ã‚’æç”»ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚
ã“ã®æœ¬å®¶ã®ã‚µãƒ¼ãƒã«ã‚ãŸã‚‹ã®ãŒRealSubjectã€‚

### Client(ä¾é ¼äºº)
Proxyã‚’åˆ©ç”¨ã™ã‚‹è€…ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§ã„ã‚‹HTTPãƒ—ãƒ­ã‚­ã‚·ã€‚

## ã©ã‚“ãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã‹
å…·ä½“ä¾‹ã‚’æŒ™ã’ã¦ã¿ã‚‹ã€‚
- ç”Ÿæˆã‚³ã‚¹ãƒˆã®å¤§ãã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã‚’é…å»¶ã¾ãŸã¯å›é¿ã—ã€ãƒ¡ãƒ¢ãƒªæ¶ˆè²»é‡ã‚’æŠ‘ãˆã‚‹(FlyWeightã¨ã®ç›¸æ€§ãŒè‰¯ã„ğŸ‘ğŸ»)
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚½ãƒ¼ã‚¹ã®æ¶ˆè²»é‡ã‚’å‰Šæ¸›(ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°)
- (GoFã®Proxyãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¶£æ—¨ã‹ã‚‰ã¯ã‚„ã‚„ãšã‚Œã‚‹ãŒ)é€šä¿¡å‡¦ç†å®Ÿè£…æ™‚ã®ãƒ‡ãƒãƒƒã‚°ãŒå¯èƒ½ã«ãªã‚‹(Charles Proxy)


## ã•ã¾ã–ã¾ãªãƒ—ãƒ­ã‚­ã‚·
### Virtual Proxy
å¿…è¦ã«ãªã£ãŸæ™‚ã«RealSubjectã‚’ç”Ÿæˆã™ã‚‹ã‚¿ã‚¤ãƒ—ã®ãƒ—ãƒ­ã‚­ã‚·
> Webãƒ–ãƒ©ã‚¦ã‚¶ã®HTTPãƒ—ãƒ­ã‚­ã‚·ãªã©
### Remote Proxy
ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å‘ã“ã†å´ã«ã„ã‚‹ã®ã«ã‚‚é–¢ã‚ã‚‰ãšã€ã‚ãŸã‹ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ã«ã„ã‚‹ã‹ã®ã‚ˆã†ã«å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã‚‹ã‚¿ã‚¤ãƒ—ã®ãƒ—ãƒ­ã‚­ã‚·
> Javaã®RMIãªã©
### Access Proxy
RealSubjectã®æ©Ÿèƒ½ã®å‘¼ã³å‡ºã—ã«åˆ¶é™ã‚’è¨­ã‘ã‚‹ã‚¿ã‚¤ãƒ—ã®ãƒ—ãƒ­ã‚­ã‚·
> ã„ã‚ã‚†ã‚‹Proxy Serverãªã©
